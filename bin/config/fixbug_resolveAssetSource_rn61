'use strict';var e,t,r,s,n=require('./AssetRegistry'),o=require('./AssetSourceResolver');function u(){if(s)return s;var e=global.nativeExtensions&&global.nativeExtensions.SourceCode;return e||(e=require('../NativeModules/specs/NativeSourceCode').default),s=e.getConstants().scriptURL}function i(){if(void 0===t){var e=u(),r=e&&e.match(/^https?:\/\/.*?\//);t=r?r[0]:null}return t}function l(e){if(e){if(e.startsWith('assets://'))return null;(e=e.substring(0,e.lastIndexOf('/')+1)).includes('://')||(e='file://'+e)}return e}function a(t){if('object'==typeof t)return t;var s=n.getAssetByID(t);if(!s)return null;var a=new o(i(),(void 0===r&&(r=l(u())),r),s);return e?e(a):a.defaultAsset()}var c=0;module.exports=function(e){return c&&c(e),a(e)},module.exports.setMiotProcessor=function(e){c=e||0},module.exports.pickScale=o.pickScale,module.exports.setCustomSourceTransformer=function(t){e=t};